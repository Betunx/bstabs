<header class="bg-bs-carbon text-white sticky top-0 z-50 shadow-lg">
  <div class="container mx-auto px-4 py-4 flex items-center justify-between">
    <!-- Logo BS -->
    <a routerLink="/" class="flex items-center space-x-3">
      <div class="text-3xl font-bold font-sans">BS</div>
      <span class="text-sm hidden md:block">Black Sheep</span>
    </a>

    <!-- Navigation -->
    <nav class="hidden md:flex space-x-6">
      <a routerLink="/artists" routerLinkActive="text-bs-gold" class="hover:text-bs-gold transition">Artistas</a>
      <a routerLink="/songs" routerLinkActive="text-bs-gold" class="hover:text-bs-gold transition">Canciones</a>
      <a routerLink="/tutorials" routerLinkActive="text-bs-gold" class="hover:text-bs-gold transition">Tutoriales</a>
      <a routerLink="/request-song" routerLinkActive="text-bs-gold" class="hover:text-bs-gold transition">Pedir Canción</a>
      <a routerLink="/contact" routerLinkActive="text-bs-gold" class="hover:text-bs-gold transition">Contacto</a>
    </nav>

    <!-- Theme Selector & Donate Button -->
    <div class="flex items-center space-x-4">
      <!-- Theme Switcher Dropdown -->
      <div class="relative">
        <!-- Botón actual del tema -->
        <button
          (click)="toggleThemeDropdown()"
          (mouseenter)="isThemeDropdownOpen.set(true)"
          class="w-10 h-10 rounded-full border-2 border-white hover:scale-110 transition-all duration-200 shadow-lg flex items-center justify-center"
          [style.background-color]="themeService.themes[themeService.currentTheme()].preview"
          [title]="themeService.themes[themeService.currentTheme()].name">
          <span class="text-xs font-bold"
                [style.color]="themeService.themes[themeService.currentTheme()].textColor">
            {{ themeService.themes[themeService.currentTheme()].name.charAt(0) }}
          </span>
        </button>

        <!-- Dropdown de temas -->
        @if (isThemeDropdownOpen()) {
          <div
            (mouseleave)="closeThemeDropdown()"
            class="absolute top-12 right-0 bg-gray-800 rounded-lg shadow-xl p-2 space-y-2 min-w-[160px] z-50 animate-fadeIn">
            @for (themeKey of getThemeKeys(); track themeKey) {
              <button
                (click)="setTheme(themeKey)"
                [class.ring-2]="themeService.currentTheme() === themeKey"
                [class.ring-bs-gold]="themeService.currentTheme() === themeKey"
                class="w-full flex items-center space-x-3 px-3 py-2 rounded hover:bg-gray-700 transition">
                <div
                  class="w-6 h-6 rounded-full border-2 border-white"
                  [style.background-color]="themeService.themes[themeKey].preview">
                </div>
                <span class="text-white text-sm">{{ themeService.themes[themeKey].name }}</span>
              </button>
            }
          </div>
        }
      </div>

      <!-- Donate Button -->
      <a
        routerLink="/donate"
        class="bg-bs-gold hover:bg-yellow-600 text-black font-bold w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition">
        D
      </a>
    </div>
  </div>

  <!-- Mobile Navigation -->
  <nav class="md:hidden flex justify-around py-2 border-t border-gray-700">
    <a routerLink="/artists" routerLinkActive="text-bs-gold" class="text-xs hover:text-bs-gold">Artistas</a>
    <a routerLink="/songs" routerLinkActive="text-bs-gold" class="text-xs hover:text-bs-gold">Canciones</a>
    <a routerLink="/tutorials" routerLinkActive="text-bs-gold" class="text-xs hover:text-bs-gold">Tutoriales</a>
    <a routerLink="/request-song" routerLinkActive="text-bs-gold" class="text-xs hover:text-bs-gold">Pedir</a>
    <a routerLink="/contact" routerLinkActive="text-bs-gold" class="text-xs hover:text-bs-gold">Contacto</a>
  </nav>
</header>
